### Разбор принципа работы алгоритма построения дерева с небинарным разбиением [ссылка](https://www.researchgate.net/publication/315476407_CHAID_and_Earlier_Supervised_Tree_Methods)

Базовый алгоритм состоит из следующих шагов:
* считает попарные p-value хи-квадрат для объединения категориальных переменных (объединяет те пары где большой p-value);
* для порядковых и с плавающей точкой строит их по порядку (для плавающей точки выбираем условно диапазоны / границы разделения) смотрим распределение целевой переменной в этих ячейках считая только ближайшие значения p-value и по такому же принципу объединяем до определенного уровня (критерий останова - p-value ниже определенного порога)
* разделение происходит до срабатывания одного из критериев останова:
	* пороговое значение asplit для p-значения разделения, выше которого CHAID не разделяет узел (например 5%);
	*  максимальное количество уровней max level;
	* минимальный размер родительского узла min parent (количество наблюдений в узле)

Улучшение предложенное Kass (1980) это использование поправки Бонферрони для p-value (предлагаются формулы через составление количества возможных пар отдельно для категориальных, порядков и числовых переменных и умножении p-value на это значение)

Также есть улучшение Biggs, De Ville, and Suen (1991) заключающаяся в:
1. Более тщательной эвристике для нахождения в каждом узле оптимального
способа группировки категорий каждого предиктора.
2. Более подходящем приближении для поправочного коэффициента Бонферрони, позволяющем избежать выделения номинальных переменных с большим количеством категорий.